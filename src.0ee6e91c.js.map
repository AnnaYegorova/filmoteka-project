{"version":3,"sources":["js/components/search_form.js","index.js"],"names":["BASE_URL","API_KEY","form","document","querySelector","addEventListener","onSearch","input","gallery","galleryList","event","preventDefault","fetchCards","currentTarget","elements","searchQuery","value","then","appendFilmCardsMarkup","catch","error","console","log","fetch","response","json","onLoadMainPage","fetchTrandsCards","obj","innerHTML","markup","results","map","original_title","release_date","poster_path","id","genre_ids","Date","getFullYear","join","insertAdjacentHTML","fetchGenres","nameGenre","array","genres","markUpGenre","el","list_genres"],"mappings":";;;AAAA,MAAMA,EAAW,gCAEXC,EAAU,mCAIVC,EAAOC,SAASC,cAAc,gBACpCF,EAAKG,iBAAiB,SAAUC,GAChC,MAAMC,EAAQJ,SAASC,cAAc,iBAE/BI,EAAUL,SAASC,cAAc,YACjCK,EAAcN,SAASC,cAAc,kBAE3C,SAASE,EAASI,GAChBA,EAAMC,iBAENC,EADmBF,EAAMG,cAAcC,SAASC,YAAYC,OAEzDC,KAAKC,GACLC,MAAMC,GAASC,QAAQC,IAAIF,IAEhC,SAASR,EAAWG,GAEXQ,OAAAA,SADQvB,8BAAqCC,WAAiBc,2BACnDE,KAAKO,GAAYA,EAASC,QAG9C,SAASC,IACPC,IACGV,KAAKC,GACLC,MAAMC,GAASC,QAAQC,IAAIF,IAGhC,SAASO,IAEAJ,OAAAA,SADQvB,+BAAsCC,KACnCgB,KAAKO,GAAYA,EAASC,QAE9C,SAASP,EAAsBU,GAC7BnB,EAAYoB,UAAY,GAClBC,MAAAA,EAASF,EAAIG,QAChBC,IACC,EAAGC,eAAAA,EAAgBC,aAAAA,EAAcC,YAAAA,EAAaC,GAAAA,EAAIC,UAAAA,mNAMPF,sBAChCF,8JAOcA,mBACpBI,sBACA,IAAIC,KAAKJ,GAAcK,4DAK7BC,KAAK,IAER/B,EAAYgC,mBAAmB,YAAaX,GAK9C,SAASY,IAIAC,OAFYpB,SADJvB,6BAAoCC,oBACrBgB,KAAKO,GAAYA,EAASC,QAC3BR,KAAK2B,GAASA,EAAMC,OAAOb,IAAIJ,GAAOP,QAAQC,IAAIM,KAMjF,SAASkB,EAAYF,GACd,IAAA,MAAMG,KAAMH,EAAO,CAChBI,MAAAA,EAAcN,IACpBrB,QAAQC,IAAI0B,IAfhBtB,IASAgB;;ACxEA,aADA,QAAA,oBACA,QAAA","file":"src.0ee6e91c.js","sourceRoot":"../src","sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\n// https://api.themoviedb.org/3/movie/550?api_key=ca1cb5cf0962813c7315de2a2830def2\nconst API_KEY = 'ca1cb5cf0962813c7315de2a2830def2';\n\n// считать c импута и вывести в консоль\n\nconst form = document.querySelector('.search-form');\nform.addEventListener('submit', onSearch);\nconst input = document.querySelector('.search-input');\n\nconst gallery = document.querySelector('.gallery');\nconst galleryList = document.querySelector('.gallery__list');\n\nfunction onSearch(event) {\n  event.preventDefault();\n  const valueInput = event.currentTarget.elements.searchQuery.value;\n  fetchCards(valueInput)\n    .then(appendFilmCardsMarkup)\n    .catch(error => console.log(error));\n}\nfunction fetchCards(searchQuery) {\n  const url = `${BASE_URL}search/collection?api_key=${API_KEY}&query=${searchQuery}&language=en-US&page=1`;\n  return fetch(url).then(response => response.json());\n}\n\nfunction onLoadMainPage() {\n  fetchTrandsCards()\n    .then(appendFilmCardsMarkup)\n    .catch(error => console.log(error));\n}\n\nfunction fetchTrandsCards() {\n  const url = `${BASE_URL}trending/movie/day?api_key=${API_KEY}`;\n  return fetch(url).then(response => response.json());\n}\nfunction appendFilmCardsMarkup(obj) {\n  galleryList.innerHTML = '';\n  const markup = obj.results\n    .map(\n      ({ original_title, release_date, poster_path, id, genre_ids }) =>\n        `<li class='gallery-list__item'>\n      <a class='gallery-list__card'>\n      <div class=\"poster__card\">\n        <img\n          class='gallery-list__img'\n          src='https://image.tmdb.org/t/p/w500/${poster_path}'\n          alt='${original_title}'\n          loading='lazy'\n          width =\"100%\"\n         \n        />\n        </div>\n      <div class=\"info__card\">\n      <p class=\"title__card\">${original_title}</p>\n      <p>${genre_ids} | </p>\n      <p>${new Date(release_date).getFullYear()}</p>\n      </div>\n      </a>\n      </li>`,\n    )\n    .join('');\n  // console.log(obj.results);\n  galleryList.insertAdjacentHTML('beforeend', markup);\n}\nonLoadMainPage();\n\n// выводит массив жанров\nfunction fetchGenres() {\n  const url = `${BASE_URL}genre/movie/list?api_key=${API_KEY}&language=en-US`;\n  const fetchGenre = fetch(url).then(response => response.json());\n  const nameGenre = fetchGenre.then(array => array.genres.map(obj => console.log(obj)));\n  return nameGenre;\n}\nfetchGenres();\n\n// вывод жанра по id\nfunction markUpGenre(array) {\n  for (const el of array) {\n    const list_genres = fetchGenres();\n    console.log(list_genres);\n    // if (el === fetchGenres array.id) {\n    //   console.log(array.name);\n  }\n}\n// markUpGenre([28, 119]);\n\n// markUpGenre(28);\n// const genres = fetchGenres()\n//   .then(markUpGenres)\n//   .catch(error => console.log(error));\n","import './sass/main.scss';\nimport './js/components/search_form';\n"]}